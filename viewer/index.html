<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" href="./favicon.ico" type="image/x-icon">
        <title>NGL Editor</title>
        <style>
        * { margin: 0; padding: 0; }
        html, body { width: 100%; height: 100%;background-color: black; overflow: hidden; }
        </style>

    </head>
    <body>
        <div id="viewport" style="width:100%; height:100%;"></div>
        <script type="text/javascript" src="https://cdn.rawgit.com/arose/ngl/v2.0.0-dev.31/dist/ngl.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.1/socket.io.js"></script>
        <script type="text/javascript">
            
            // Create NGL Stage object
            var stage = new NGL.Stage( "viewport" );

            // Handle window resizing
            window.addEventListener( "resize", function( event ){
                stage.handleResize();
            }, false );
            var schemeId = NGL.ColormakerRegistry.addSelectionScheme([
                ["purple", "_C"],
                ["green", "_Cl"],
                ["blue", "_N"],
                ["yellow", "_S"],
                ["oxygen", "_O"],
            ], "Ligand");

            // Load PDB entry 1CRN
            stage.loadFile( "data/complex.pdb").then (function (o) {
                o.addRepresentation("Line", { color: "element",sele:"protein" })
                o.addRepresentation("licorice", { color: schemeId,sele:"ligand" })
                o.autoView("ligand")
            })

            const socket = io("http://localhost:8000");

            socket.emit("syncTrajectory","data/complex.pdb");
    

        </script>
    </body>

</html>

